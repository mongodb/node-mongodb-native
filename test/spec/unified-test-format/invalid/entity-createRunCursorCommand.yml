description: runCursorCommand
schemaVersion: '1.3'
createEntities:
  - client:
      id: &client client
      useMultipleMongoses: false
      observeEvents: [commandStartedEvent]
  - database:
      id: &db db
      client: *client
      databaseName: *db
  - collection:
      id: &collection collection
      database: *db
      collectionName: *collection
initialData:
  - collectionName: collection
    databaseName: *db
    documents: &documents
      - { _id: 1, x: 11 }
tests:
  - description: runCursorCommand cannot be combined with expectResult
    operations:
      - name: runCursorCommand
        object: *db
        arguments:
          commandName: find
          batchSize: 2
          command: { find: *collection, filter: {}, batchSize: 2 }
        expectResult: *documents
    expectResult: { _id: 1, x: 11 }
